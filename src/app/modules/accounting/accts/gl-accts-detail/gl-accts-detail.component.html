<div class="h-full border-gray-300 rounded-2xl">
    @if (!isModifiable) {

        <button mat-raised-button color="primary" class="mb-2 mr-1" (click)="onAmendJournal()" matTooltip="Save"
            aria-label="Button that displays a tooltip when focused or hovered over">
            Amend
            <mat-icon [svgIcon]="'mat_outline:update'"></mat-icon>
        </button>

    }
    @else  {
    <mat-card>
        <div class="bg-slate-600 text-justify pt-2 text-white h-10 text-2xl m-2" mat-dialog-title>
            {{ sTitle }}
        </div>

        <div class="flex flex-col w-full text-gray-700  filter-article filter-interactive">

            <div class="flex flex-col m-1">
                <section class="flex flex-col md:flex-row">
                    <div class="flex flex-col grow">
                        <mat-form-field class="m-1 form-element grow" appearance="outline">
                            <mat-label class="w-[200px] ml-2 text-base dark:text-gray-100">Account Code</mat-label>
                            <input matInput placeholder="Account" formControlName="account" />
                        </mat-form-field>
                    </div>

                    <div class="flex flex-col grow">
                        <mat-form-field class="m-1 form-element grow" appearance="outline">
                            <mat-label class="ml-2 text-base dark:text-gray-100">Description</mat-label>
                            <input matInput placeholder="Description" formControlName="account" />
                        </mat-form-field>
                    </div>
                    <div class="flex flex-col grow">
                        <mat-form-field class="m-1 form-element grow" appearance="outline">
                            <mat-label class="ml-2 text-base dark:text-gray-100">Type</mat-label>
                            <input matInput placeholder="Type" formControlName="account" />
                        </mat-form-field>
                    </div>

                    <div class="flex flex-col grow">
                        <mat-form-field class="m-1 form-element grow" appearance="outline">
                            <mat-label class="ml-2 text-base dark:text-gray-100">Fund</mat-label>
                            <input matInput placeholder="Account" formControlName="account" />
                        </mat-form-field>
                    </div>
                    <div class="flex flex-col grow">
                        <mat-form-field class="m-1 form-element" appearance="outline">
                            <mat-label class="ml-2 text-base dark:text-gray-100">Amount</mat-label>
                            <input matInput placeholder="Amount" formControlName="description" />
                        </mat-form-field>
                    </div>

                </section>

                <div mat-dialog-actions>
                    <div mat-dialog-actions>
                        <button mat-raised-button color="primary" class="m-1" (click)="onUpdate($event)"
                            matTooltip="Save" aria-label="Button that displays a tooltip when focused or hovered over">
                            Update
                            <mat-icon>update</mat-icon>
                        </button>

                        <button mat-raised-button color="primary" class="m-1" (click)="onDelete($event)"
                            matTooltip="Cancel"
                            aria-label="Button that displays a tooltip when focused or hovered over">
                            Cancel
                            <mat-icon>delete</mat-icon>
                        </button>

                    </div>

                </div>
            </div>
        </div>
    </mat-card>
    } 
    <ng-container>
        <div class="flex flex-col h-full">
            @if (accounts$ | async; as accounts) {
            <dx-data-grid id="child" [wordWrapEnabled]="true"
                [dataSource]="accounts" [showColumnLines]="true" [showRowLines]="true" [showBorders]="true"
                [focusedRowEnabled]="true" [focusedRowIndex]="0" keyExpr="child" [repaintChangesOnly]="true"
                (onFocusedRowChanged)="onFocusedRowChanged($event)" (onCellDblClick)="onCellDoubleClicked($event)"
                >                
                <dxi-column dataField="child" width="70"> </dxi-column>
                <dxi-column dataField="description" width="400"></dxi-column>
                <dxi-column dataField="type" width="120"></dxi-column>
                <dxi-column dataField="sub_type" width="120"></dxi-column>
                <dxi-column dataField="comments" width="200"></dxi-column>
                <dxi-column dataField="update_date"></dxi-column>
                <dxi-column dataField="update_user"></dxi-column>
            </dx-data-grid>
        }
        </div>
    </ng-container>
</div>
