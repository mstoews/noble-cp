<ng-container class="bg-gray-50" *ngIf="cart$ | async as cartItems">
  <app-header [title]="'Shopping Cart'"></app-header>

  <mat-card bg-gray-50>
    <div class="mx-auto max-w-2xl px-4 pt-6 sm:px-6 lg:max-w-7xl lg:px-8">
      <div class="mt-6 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16">
        <section aria-labelledby="cart-heading" class="lg:col-span-7">
          <div *ngIf="cartItems.length > 0; else nocart">
            <div *ngFor="let item of cartItems">
              <h2 id="cart-heading" class="sr-only">Purchases</h2>
              <ul role="list" class="divide-y divide-gray-300 border-t border-b border-gray-200">
                <li class="flex py-6 sm:py-10">

                  <div class="ml-4 flex flex-1 flex-col justify-between sm:ml-6">
                    <div class="relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0">
                      <div>
                        <div class="flex justify-between">
                          <h3 class="text-sm">
                            <a href="#" class="font-medium text-gray-700 hover:text-gray-800">{{item.description}}</a>
                          </h3>
                        </div>
                        <div class="mt-1 flex text-sm">
                          <p class="text-gray-500">{{item.short_description}}</p>

                        </div>
                        <p class="mt-1 text-sm font-medium text-gray-900">${{item.price}}</p>
                      </div>

                    </div>

                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Order summary -->
        
          <section aria-labelledby="summary-heading"
            class="mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8">
            <h2 id="summary-heading" class="text-lg font-medium text-gray-900">Order summary</h2>

            <dl class="mt-6 space-y-4">
              <div class="flex items-center justify-between">
                <dt class="text-sm text-gray-600">Subtotal</dt>
                <dd class="text-sm font-medium text-gray-900">${{total}}</dd>
              </div>
              <div class="flex items-center justify-between border-t border-gray-200 pt-4">
                <dt class="flex items-center text-sm text-gray-600">
                  <span>Shipping estimate</span>
                  <a href="#" class="ml-2 flex-shrink-0 text-gray-400 hover:text-gray-500">
                    <span class="sr-only">Learn more about how shipping is calculated</span>
          
                  </a>
                </dt>
                <dd class="text-sm font-medium text-gray-900">${{shipping}}</dd>
              </div>
              <div class="flex items-center justify-between border-t border-gray-200 pt-4">
                <dt class="flex text-sm text-gray-600">
                  <span>Tax estimate</span>
                  <a href="#" class="ml-2 flex-shrink-0 text-gray-400 hover:text-gray-500">
                    <span class="sr-only">Learn more about how tax is calculated</span>
          
                  </a>
                </dt>
                <dd class="text-sm font-medium text-gray-900">${{tax}}</dd>
              </div>
              <div class="flex items-center justify-between border-t border-gray-200 pt-4">
                <dt class="text-base font-medium text-gray-900">Order total</dt>
                <dd class="text-base font-medium text-gray-900">${{grand_total}}</dd>
              </div>
            </dl>

            <div class="mt-6">
              <button type="submit" (click)="onCheckOut()"
                class="w-full rounded-md border border-transparent bg-gray-800 py-3 px-4 text-base font-medium text-white shadow-sm hover:bg-gray-200 hover:text-black hover:border-2 hover:border-black focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50">
                Payment
              </button>
            </div>
          </section>
      
      </div>
    </div>
    
      <section aria-labelledby="contact-information">
        <mat-card class="text-gray-700">
          <form [formGroup]="formGroup" class="flex flex-col">
              <div
                  class="lg:max-w-[1440px] md:max-w-[744px] max-w-[450px] mx-auto bg-white relative lg:px-10 md:px-6 px-4 py-7">
                  <div class="flex lg:flex justify-center gap-2">
                      <div class="w-full py-12 md:py-8 px-4 sm:px-0 md:px-6">
                          <p class="text-xl font-semibold leading-tight text-gray-800">
                              Shipping & Address Details
                          </p>
        
                          <div class="flex flex-col md:flex-row">
                              <div class="m-2 grow">
                                  <div class="mt-2 grow">
                                      <p class="text-gray-700 text-base text-gray-800">eMail Address</p>
                                      <input matInput type="text" formControlName="email"
                                          placeholder="Enter your email address as your ID"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[540px] py-3 px-3 rounded grow" />
                                  </div>
                              </div>
        
                              <div class="flex  m-2 grow">
                                  <div class="mt-2">
                                      <p class="text-gray-700 text-base text-gray-800">Phone Number</p>
                                      <input matInput type="text" formControlName="phone_number"
                                          placeholder="Enter your phone number"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[540px] py-3 px-3 rounded grow" />
                                  </div>
                              </div>
                          </div>
        
                          <div class="flex  flex-col md:flex-row">
        
                              <div class="flex flex-col sm:flex-row md:flex-col lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class=" text-base text-gray-800">First Name</p>
                                      <input matInput type="text" formControlName="first_name"
                                          placeholder="Enter your first name"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[354px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
        
                              <div class="flex flex-col sm:flex-row md:flex-col  lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class=" text-base text-gray-800">Middle Name</p>
                                      <input matInput type="text" formControlName="middle_name"
                                          placeholder="Enter your middle name"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[353px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
        
                              <div class="flex sm:flex-row md:flex-col flex-col lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class="text-gray-700 text-base text-gray-800">Last Name</p>
                                      <input matInput type="text" formControlName="last_name"
                                          placeholder="Enter your last name"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[353px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
                          </div>
        
                          <div class="flex  flex-col md:flex-row">
        
                              <div class="flex flex-col sm:flex-row md:flex-col  lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class=" text-base text-gray-800">Address</p>
                                      <input matInput type="text" formControlName="address_line1" placeholder="Address"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[540px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
        
                              <div class="flex sm:flex-row md:flex-col flex-col lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class="text-gray-700 text-base text-gray-800">Street/Apartment Number</p>
                                      <input matInput type="text" formControlName="address_line2"
                                          placeholder="Apartment or Number"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[540px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
                          </div>
        
        
                          <div class="flex  flex-col md:flex-row">
        
                              <div class="flex flex-col sm:flex-row md:flex-col  lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class=" text-base text-gray-800">Town/City</p>
                                      <input matInput type="text" formControlName="city" placeholder="Town or City"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[540px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
        
                              <div class="flex sm:flex-row md:flex-col flex-col lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class="text-gray-700 text-base text-gray-800">Province or State</p>
                                      <input matInput type="text" formControlName="province_state"
                                          placeholder="Province or State"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[540px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
        
                          </div>
        
                          <div class="flex  flex-col md:flex-row">
        
                              <div class="flex flex-col sm:flex-row md:flex-col  lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class=" text-base text-gray-800">Country</p>
                                      <input matInput type="text" formControlName="country" placeholder="Country"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[540px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
        
                              <div class="flex sm:flex-row md:flex-col flex-col lg:flex-row m-2">
                                  <div class="mt-2">
                                      <p class="text-gray-700 text-base text-gray-800">Postal Code</p>
                                      <input matInput type="text" formControlName="postal_code" placeholder="Postal code"
                                          class="text-gray-700 placeholder:text-sm placeholdertext-gray-500 focus:outline-none border border-gray-300 lg:min-w-[540px] w-full py-3 px-3 rounded " />
                                  </div>
                              </div>
                          </div> 
        
                      </div>
                  </div>
                  <div class="col-span-5"></div>
              </div>
          </form>
        </mat-card>
        
      </section>
   
  </mat-card>

</ng-container>